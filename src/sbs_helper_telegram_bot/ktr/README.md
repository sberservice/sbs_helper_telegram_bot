# –ú–æ–¥—É–ª—å –ö–¢–† (–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç)

–ú–æ–¥—É–ª—å –¥–ª—è –ø–æ–∏—Å–∫–∞ –∫–æ–¥–æ–≤ –ö–¢–† –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–±–æ—Ç.

## –û–ø–∏—Å–∞–Ω–∏–µ

–ö–¢–† ‚Äî —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –∫–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ. –ö–∞–∂–¥—ã–π –∫–æ–¥ —Å–æ–¥–µ—Ä–∂–∏—Ç:

- **–ö–æ–¥** ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, POS2421)
- **–û–ø–∏—Å–∞–Ω–∏–µ** ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ/–æ–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã
- **–ú–∏–Ω—É—Ç—ã** ‚Äî –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- **–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** ‚Äî –¥–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **–ö–∞—Ç–µ–≥–æ—Ä–∏—è** ‚Äî –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Ç–∏–ø—É —Ä–∞–±–æ—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üîç –ü–æ–∏—Å–∫ –∫–æ–¥–∞ –ö–¢–† –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É
- üìä –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∫–æ–¥–æ–≤ (—Ç–æ–ø-10)
- üéñÔ∏è –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–¥—É–ª—è (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏–µ–π)
- üìÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞—Ç—ã –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–±—â–µ–≥–æ —Ñ–∞–π–ª–∞ –ö–¢–† –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ –º–æ–¥—É–ª—å
- üì¨ –ü–æ–¥—Å–∫–∞–∑–∫–∞ –ø–æ –æ—Ç–ø—Ä–∞–≤–∫–µ –±–æ–ª–µ–µ —Å–≤–µ–∂–µ–≥–æ —Ñ–∞–π–ª–∞ –ö–¢–† —á–µ—Ä–µ–∑ –º–æ–¥—É–ª—å –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- üìã –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –∫–æ–¥–æ–≤ (—Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π)
- üîç –ü–æ–∏—Å–∫ –∫–æ–¥–æ–≤
- ‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∫–æ–¥–æ–≤
- üìù –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è –∏ —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç
- üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–¥–æ–≤
- üìÅ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ)
- ‚ùì –ü—Ä–æ—Å–º–æ—Ç—Ä –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∫–æ–¥–æ–≤ (–∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã—Ö, –Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –≤ –±–∞–∑–µ)
- üìà –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- üì• –ò–º–ø–æ—Ä—Ç –∫–æ–¥–æ–≤ –∏–∑ CSV —Ñ–∞–π–ª–∞
- üìÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞/–æ—á–∏—Å—Ç–∫–∞ –¥–∞—Ç—ã –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–±—â–µ–≥–æ —Ñ–∞–π–ª–∞ –ö–¢–†

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
mysql -u user -p database < scripts/ktr_setup.sql
```

## –ò–º–ø–æ—Ä—Ç –∏–∑ CSV

### –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞

| –°—Ç–æ–ª–±–µ—Ü | –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π |
|---------|------------------------|----------|--------------|
| code | –∫–æ–¥, ktr_code, –∫–æ–¥_–∫—Ç—Ä | –ö–æ–¥ –ö–¢–† | –î–∞ |
| description | –æ–ø–∏—Å–∞–Ω–∏–µ, desc, –Ω–∞–∑–≤–∞–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã | –î–∞ |
| minutes | –º–∏–Ω—É—Ç—ã, –≤—Ä–µ–º—è, time, –º–∏–Ω | –¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã –≤ –º–∏–Ω—É—Ç–∞—Ö | –î–∞ |
| category | –∫–∞—Ç–µ–≥–æ—Ä–∏—è, cat | –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ | –ù–µ—Ç |
| date_updated | –¥–∞—Ç–∞_–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, –¥–∞—Ç–∞, date | –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–¥–¥.–º–º.–≥–≥–≥–≥) | –ù–µ—Ç |

### –ü—Ä–∏–º–µ—Ä CSV

```csv
code,description,minutes,category,date_updated
POS2421,–£—Å—Ç–∞–Ω–æ–≤–∫–∞ POS-—Ç–µ—Ä–º–∏–Ω–∞–ª–∞,90,POS-—Ç–µ—Ä–º–∏–Ω–∞–ª—ã,15.01.2026
POS2422,–ó–∞–º–µ–Ω–∞ POS-—Ç–µ—Ä–º–∏–Ω–∞–ª–∞,60,POS-—Ç–µ—Ä–º–∏–Ω–∞–ª—ã,15.01.2026
KASS001,–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–∞—Å—Å—ã,120,–ö–∞—Å—Å—ã,
NET001,–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–æ—É—Ç–µ—Ä–∞,30,–°–µ—Ç–µ–≤–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ,
```

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

- **–ö–æ–¥–∏—Ä–æ–≤–∫–∞:** UTF-8 –∏–ª–∏ Windows-1251
- **–†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å:** –∑–∞–ø—è—Ç–∞—è (,) –∏–ª–∏ —Ç–æ—á–∫–∞ —Å –∑–∞–ø—è—Ç–æ–π (;)
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä:** 5 –ú–ë

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü—ã

| –¢–∞–±–ª–∏—Ü–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `ktr_categories` | –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫–æ–¥–æ–≤ –ö–¢–† |
| `ktr_codes` | –ö–æ–¥—ã –ö–¢–† —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏ —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç–∞–º–∏ |
| `ktr_unknown_codes` | –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –∫–æ–¥—ã |
| `ktr_request_log` | –õ–æ–≥ –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ |

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã ktr_codes

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| id | bigint | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á |
| code | varchar(50) | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–¥ –ö–¢–† |
| category_id | bigint | –°—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—é (NULL –µ—Å–ª–∏ –Ω–µ –∑–∞–¥–∞–Ω–∞) |
| description | text | –û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã |
| minutes | int | –¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã –≤ –º–∏–Ω—É—Ç–∞—Ö |
| date_updated | varchar(10) | –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–∏–Ω—É—Ç (–¥–¥.–º–º.–≥–≥–≥–≥) |
| active | tinyint | –°—Ç–∞—Ç—É—Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (1/0) |
| created_timestamp | bigint | Unix timestamp —Å–æ–∑–¥–∞–Ω–∏—è |
| updated_timestamp | bigint | Unix timestamp –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—è

```
ktr/
‚îú‚îÄ‚îÄ __init__.py
‚îú‚îÄ‚îÄ ktr_bot_part.py          # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ keyboards.py             # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã
‚îú‚îÄ‚îÄ messages.py              # –°–æ–æ–±—â–µ–Ω–∏—è
‚îú‚îÄ‚îÄ settings.py              # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥—É–ª—è
‚îî‚îÄ‚îÄ README.md                # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## –ú–µ–Ω—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

| –ö–Ω–æ–ø–∫–∞ | –î–µ–π—Å—Ç–≤–∏–µ |
|--------|----------|
| üìä –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∫–æ–¥—ã | –¢–æ–ø-10 –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –∫–æ–¥–æ–≤ |
| üéñÔ∏è –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è | –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–¥—É–ª—è |

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –≤–æ –≤—Ä–µ–º—è –≤–≤–æ–¥–∞ –∫–æ–¥–∞ –º–æ–∂–Ω–æ –Ω–∞–∂–∞—Ç—å –ª—é–±—É—é –∫–Ω–æ–ø–∫—É –º–µ–Ω—é –∏–ª–∏ /cancel, —á—Ç–æ–±—ã –≤—ã–π—Ç–∏ –∏–∑ —Ä–µ–∂–∏–º–∞ –ø–æ–∏—Å–∫–∞.

–ü—Ä–∏ –≤—Ö–æ–¥–µ –≤ –º–æ–¥—É–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–±—â–µ–≥–æ —Ñ–∞–π–ª–∞ –ö–¢–† –∏ –∫–æ—Ä–æ—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –±–æ–ª–µ–µ —Å–≤–µ–∂–µ–≥–æ —Ñ–∞–π–ª–∞ –Ω—É–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –µ–≥–æ —á–µ—Ä–µ–∑ –º–æ–¥—É–ª—å ¬´üì¨ –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å¬ª —Å –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏ –¥–ª—è —Å–≤—è–∑–∏.

## –ú–µ–Ω—é –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

| –ö–Ω–æ–ø–∫–∞ | –î–µ–π—Å—Ç–≤–∏–µ |
|--------|----------|
| üìã –°–ø–∏—Å–æ–∫ –∫–æ–¥–æ–≤ | –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∫–æ–¥–æ–≤ |
| üîç –ù–∞–π—Ç–∏ –∫–æ–¥ | –ü–æ–∏—Å–∫ –∫–æ–¥–∞ |
| ‚ûï –î–æ–±–∞–≤–∏—Ç—å –∫–æ–¥ | –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–æ–¥–∞ |
| üìÅ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ |
| ‚ùì –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –∫–æ–¥—ã | –ü—Ä–æ—Å–º–æ—Ç—Ä –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∫–æ–¥–æ–≤ |
| üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è |
| üì• –ò–º–ø–æ—Ä—Ç CSV | –ú–∞—Å—Å–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ —Ñ–∞–π–ª–∞ |
| üìÖ –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ö–¢–† | –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–∞—Ç—ã –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–±—â–µ–≥–æ —Ñ–∞–π–ª–∞ –ö–¢–† |

---

**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** –§–µ–≤—Ä–∞–ª—å 2026
